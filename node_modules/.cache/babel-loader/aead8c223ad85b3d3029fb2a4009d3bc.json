{"ast":null,"code":"export default class Matrix {\n  constructor() {\n    this.data = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n  }\n  reset() {\n    this.data = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n  }\n  multiply(matrix) {\n    const result = new Float32Array(16); // Temporary storage for calculation\n    for (let row = 0; row < 4; row++) {\n      for (let col = 0; col < 4; col++) {\n        let sum = 0;\n        for (let k = 0; k < 4; k++) {\n          sum += this.data[row * 4 + k] * matrix.data[k * 4 + col];\n        }\n        result[row * 4 + col] = sum;\n      }\n    }\n    this.data.set(result); // Update the original matrix's data\n    return this; // Return self for chaining\n  }\n\n  // static methods to simplify calling transformation boilerplate (destructive)\n  static translation(tx, ty, tz) {\n    const matrix = new Matrix();\n    matrix.data[12] = tx;\n    matrix.data[13] = ty;\n    matrix.data[14] = tz;\n    return matrix;\n  }\n  static scale(sx, sy, sz) {\n    const matrix = new Matrix();\n    matrix.data[0] = sx;\n    matrix.data[5] = sy;\n    matrix.data[10] = sz;\n    return matrix;\n  }\n  static orthographic(left, right, bottom, top, near, far) {\n    const matrix = new Matrix();\n    matrix.data[0] = 2 / (right - left);\n    matrix.data[5] = 2 / (top - bottom);\n    matrix.data[10] = 2 / (far - near);\n    matrix.data[12] = -(right + left) / (right - left);\n    matrix.data[13] = -(top + bottom) / (top - bottom);\n    matrix.data[14] = -(far + near) / (far - near);\n    return matrix;\n  }\n  static perpective(fov, aspect, near, far) {\n    const matrix = new Matrix();\n    const f = 1.0 / Math.tan(fov / 2);\n    matrix.data[0] = f / aspect;\n    matrix.data[5] = f;\n    matrix.data[10] = (far + near) / (near - far);\n    matrix.data[11] = -1;\n    matrix.data[14] = 2 * far * near / (near - far);\n    matrix.data[15] = 0;\n    return matrix;\n  }\n  toWebGL() {\n    return new Float32Array(this.data);\n  }\n}\nMatrix.rotate = (angle, x, y, z) => {\n  const axisLength = Math.sqrt(x * x + y * y + z * z);\n  const s = Math.sin(angle * Math.PI / 180.0);\n  const c = Math.cos(angle * Math.PI / 180.0);\n  const oneMinusC = 1.0 - c;\n  x /= axisLength;\n  y /= axisLength;\n  z /= axisLength;\n  const x2 = x * x;\n  const y2 = y * y;\n  const z2 = z * z;\n  const xy = x * y;\n  const yz = y * z;\n  const xz = x * z;\n  const xs = x * s;\n  const ys = y * s;\n  const zs = z * s;\n  const matrix = new Matrix();\n  matrix.data = [x2 * oneMinusC + c, xy * oneMinusC + zs, xz * oneMinusC - ys, 0, xy * oneMinusC - zs, y2 * oneMinusC + c, yz * oneMinusC + xs, 0, xz * oneMinusC + ys, yz * oneMinusC - xs, z2 * oneMinusC + c, 0, 0, 0, 0, 1];\n  return matrix;\n};","map":{"version":3,"names":["Matrix","constructor","data","reset","multiply","matrix","result","Float32Array","row","col","sum","k","set","translation","tx","ty","tz","scale","sx","sy","sz","orthographic","left","right","bottom","top","near","far","perpective","fov","aspect","f","Math","tan","toWebGL","rotate","angle","x","y","z","axisLength","sqrt","s","sin","PI","c","cos","oneMinusC","x2","y2","z2","xy","yz","xz","xs","ys","zs"],"sources":["/home/munoz/Desktop/Spring2024/cmsi3710/final/our-own-3d-library-daniel_munoz/src/Matrix/Matrix.js"],"sourcesContent":["export default class Matrix {\n  constructor() {\n    this.data = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]\n  }\n\n  reset() {\n    this.data = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]\n  }\n\n  multiply(matrix) {\n    const result = new Float32Array(16) // Temporary storage for calculation\n    for (let row = 0; row < 4; row++) {\n      for (let col = 0; col < 4; col++) {\n        let sum = 0\n        for (let k = 0; k < 4; k++) {\n          sum += this.data[row * 4 + k] * matrix.data[k * 4 + col]\n        }\n        result[row * 4 + col] = sum\n      }\n    }\n    this.data.set(result) // Update the original matrix's data\n    return this // Return self for chaining\n  }\n\n  // static methods to simplify calling transformation boilerplate (destructive)\n  static translation(tx, ty, tz) {\n    const matrix = new Matrix()\n    matrix.data[12] = tx\n    matrix.data[13] = ty\n    matrix.data[14] = tz\n    return matrix\n  }\n\n  static scale(sx, sy, sz) {\n    const matrix = new Matrix()\n    matrix.data[0] = sx\n    matrix.data[5] = sy\n    matrix.data[10] = sz\n    return matrix\n  }\n\n  static rotate = (angle, x, y, z) => {\n    const axisLength = Math.sqrt(x * x + y * y + z * z)\n    const s = Math.sin((angle * Math.PI) / 180.0)\n    const c = Math.cos((angle * Math.PI) / 180.0)\n    const oneMinusC = 1.0 - c\n\n    x /= axisLength\n    y /= axisLength\n    z /= axisLength\n\n    const x2 = x * x\n    const y2 = y * y\n    const z2 = z * z\n    const xy = x * y\n    const yz = y * z\n    const xz = x * z\n    const xs = x * s\n    const ys = y * s\n    const zs = z * s\n\n    const matrix = new Matrix()\n    matrix.data = [\n      x2 * oneMinusC + c,\n      xy * oneMinusC + zs,\n      xz * oneMinusC - ys,\n      0,\n      xy * oneMinusC - zs,\n      y2 * oneMinusC + c,\n      yz * oneMinusC + xs,\n      0,\n      xz * oneMinusC + ys,\n      yz * oneMinusC - xs,\n      z2 * oneMinusC + c,\n      0,\n      0,\n      0,\n      0,\n      1\n    ]\n\n    return matrix\n  }\n\n  static orthographic(left, right, bottom, top, near, far) {\n    const matrix = new Matrix()\n    matrix.data[0] = 2 / (right - left)\n    matrix.data[5] = 2 / (top - bottom)\n    matrix.data[10] = 2 / (far - near)\n    matrix.data[12] = -(right + left) / (right - left)\n    matrix.data[13] = -(top + bottom) / (top - bottom)\n    matrix.data[14] = -(far + near) / (far - near)\n    return matrix\n  }\n\n  static perpective(fov, aspect, near, far) {\n    const matrix = new Matrix()\n    const f = 1.0 / Math.tan(fov / 2)\n    matrix.data[0] = f / aspect\n    matrix.data[5] = f\n    matrix.data[10] = (far + near) / (near - far)\n    matrix.data[11] = -1\n    matrix.data[14] = (2 * far * near) / (near - far)\n    matrix.data[15] = 0\n    return matrix\n  }\n\n  toWebGL() {\n    return new Float32Array(this.data)\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}